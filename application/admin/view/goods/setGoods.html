<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>商品品牌</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="__PLUGINS__/layuiadmin/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="__PLUGINS__/layuiadmin/style/admin.css" media="all">
    <style>
        .layui-upload-img {
            width: 92px;
            height: 92px;
            margin: 0 10px 10px 0;
        }
    </style>
<body layadmin-themealias="default">

<div class="layui-card layadmin-header">
    <div class="layui-breadcrumb" lay-filter="breadcrumb">
        <a lay-href="">主页</a>
        <a><cite>组件</cite></a>
        <a><cite>数据表格</cite></a>
        <a><cite>数据操作</cite></a>
    </div>
</div>

<div class="layui-fluid" id="component-tabs">
    <div class="layui-row">
        <div class="layui-col-md12">
            <div class="layui-card">
                <div class="layui-card-header">商品添加</div>
                <div class="layui-card-body">
                    <div class="layui-tab">
                        <ul class="layui-tab-title">
                            <li class="layui-this">基本信息</li>
                            <li>描述信息</li>
                            <li>会员价格</li>
                            <li>商品属性</li>
                            <li>商品相册</li>
                        </ul>
                        <div class="layui-tab-content">
                            <div class="layui-tab-item layui-show goods_base">
                                <div class="layui-card-body">
                                    <form class="layui-form" action="" lay-filter="component-form-element">
                                        <div class="layui-row layui-col-space10 layui-form-item">
                                            <div class="layui-col-lg6">
                                                <label class="layui-form-label">商品名称：</label>
                                                <div class="layui-input-block">
                                                    <input type="text" name="fullname" lay-verify="required"
                                                           placeholder="" autocomplete="off" class="layui-input">
                                                </div>
                                            </div>
                                            <div class="layui-col-lg6">
                                                <label class="layui-form-label">所属栏目：</label>
                                                <div class="layui-input-block">
                                                    <select name="type" lay-verify="required" lay-filter="aihao">
                                                        <option value="0">前端工程师</option>
                                                        <option value="1">Node.js工程师</option>
                                                        <option value="2">PHP工程师</option>
                                                        <option value="3">Java工程师</option>
                                                        <option value="4">运维</option>
                                                        <option value="4">视觉设计师</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="layui-form-item">

                                            <div class="layui-col-lg3">
                                                <label class="layui-form-label">市场价格：</label>
                                                <div class="layui-input-block">
                                                    <input type="text" name="fullname" lay-verify="required"
                                                           placeholder="" autocomplete="off" class="layui-input">
                                                </div>
                                            </div>

                                            <div class="layui-col-lg3">
                                                <label class="layui-form-label">本店价格：</label>
                                                <div class="layui-input-block">
                                                    <input type="text" name="fullname" lay-verify="required"
                                                           placeholder="" autocomplete="off" class="layui-input">
                                                </div>
                                            </div>

                                            <div class="layui-col-lg6">
                                                <label class="layui-form-label">所属品牌：</label>
                                                <div class="layui-input-block">
                                                    <select name="type" lay-verify="required" lay-filter="aihao">
                                                        <option value=""></option>
                                                        <option value="0">前端工程师</option>
                                                        <option value="1">Node.js工程师</option>
                                                        <option value="2">PHP工程师</option>
                                                        <option value="3">Java工程师</option>
                                                        <option value="4">运维</option>
                                                        <option value="4">视觉设计师</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <!--                                        <div class="layui-form-item">-->
                                        <!--                                            <label class="layui-form-label">所属职称：</label>-->
                                        <!--                                            <div class="layui-input-block">-->
                                        <!--                                                <input type="radio" name="role" value="" title="经理">-->
                                        <!--                                                <input type="radio" name="role" value="" title="主管">-->
                                        <!--                                                <input type="radio" name="role" value="" title="码农" checked>-->
                                        <!--                                                <input type="radio" name="role" value="" title="端水">-->
                                        <!--                                            </div>-->
                                        <!--                                        </div>-->
                                        <div class="layui-form-item">
                                            <div class="layui-col-lg6">
                                                <label class="layui-form-label">是否上架：</label>
                                                <div class="layui-input-block">
                                                    <input type="checkbox" checked name="marriage" lay-skin="switch"
                                                           lay-text="是|否">
                                                </div>
                                            </div>

                                            <div class="layui-col-lg4">
                                                <label class="layui-form-label">重量：</label>
                                                <div class="layui-input-block" style="margin-right: 10px;">
                                                    <input type="text" name="fullname" lay-verify="required"
                                                           placeholder="" autocomplete="off" class="layui-input">
                                                </div>
                                            </div>
                                            <div class="layui-col-lg2">
                                                <select name="type" lay-verify="required" lay-filter="aihao">
                                                    <option value="0">kg</option>
                                                </select>
                                            </div>
                                        </div>


                                        <div class="layui-form-item layui-col-lg12">
                                            <label class="layui-form-label">商品主图：</label>
                                            <div class="layui-col-md2">
                                                <div class="layui-upload">
                                                    <button type="button" class="layui-btn" id="test-upload-normal">上传图片
                                                    </button>
                                                    <div class="layui-upload-list">
                                                        <img class="layui-upload-img"
                                                             src="/public/static/common/img/default.png" id="brand_img">
                                                        <p id="test-upload-demoText"></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!--                                        <div class="layui-form-item">-->
                                        <!--                                            <label class="layui-form-label">推荐位：</label>-->
                                        <!--                                            <div class="layui-input-block">-->
                                        <!--                                                <input type="checkbox" name="interest[write]" title="写作">-->
                                        <!--                                                <input type="checkbox" name="interest[read]" title="阅读">-->
                                        <!--                                                <input type="checkbox" name="interest[code]" title="代码" checked>-->
                                        <!--                                                <input type="checkbox" name="interest[dreaming]" title="做梦">-->
                                        <!--                                            </div>-->
                                        <!--                                        </div>-->

                                        <div class="layui-form-item">
                                            <div class="layui-input-block">
                                                <button class="layui-btn goods_base_send" lay-submit
                                                        lay-filter="component-form-element">立即提交
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="layui-tab-item goods_desc">
                                <div class="layui-form-item">
                                    <textarea name="goods_desction" id="goods_desction"></textarea>
                                </div>
                                <div class="layui-form-item">
                                    <div class="layui-input-block">
                                        <button class="layui-btn goods_desc_send" lay-submit
                                                lay-filter="component-form-element">立即提交
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-tab-item goods_price">
                                <div class="layui-form-item">
                                    <div class="layui-col-lg3">
                                        <label class="layui-form-label">注册会员：</label>
                                        <div class="layui-input-block">
                                            <input type="text" name="fullname" lay-verify="required"
                                                   placeholder="" autocomplete="off" class="layui-input">
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <div class="layui-col-lg3">
                                        <label class="layui-form-label">中级会员：</label>
                                        <div class="layui-input-block">
                                            <input type="text" name="fullname" lay-verify="required"
                                                   placeholder="" autocomplete="off" class="layui-input">
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <div class="layui-col-lg3">
                                        <label class="layui-form-label">高级会员：</label>
                                        <div class="layui-input-block">
                                            <input type="text" name="fullname" lay-verify="required"
                                                   placeholder="" autocomplete="off" class="layui-input">
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <div class="layui-input-block">
                                        <button class="layui-btn goods_desc_send" lay-submit
                                                lay-filter="component-form-element">立即提交
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-tab-item goods_attr">4</div>
                            <div class="layui-tab-item goods_pic">
                                <div class="layui-card">
                                    <div class="layui-card-header">上传多张图片</div>
                                    <div class="layui-card-body">
                                        <div class="layui-upload">
                                            <button type="button" class="layui-btn" id="test-upload-more">多图片上传
                                            </button>
                                            <blockquote class="layui-elem-quote layui-quote-nm"
                                                        style="margin-top: 10px;">
                                                预览图：
                                                <div class="layui-upload-list" id="test-upload-more-list"></div>
                                            </blockquote>
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-form-item">
                                    <div class="layui-input-block">
                                        <button class="layui-btn goods_desc_send" lay-submit
                                                lay-filter="component-form-element">立即提交
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="__PLUGINS__/jquery.min.js"></script>
    <script src="__PLUGINS__/layuiadmin/layui/layui.js"></script>
    <script src="__PLUGINS__/ueditor/ueditor.config.js"></script>
    <script src="__PLUGINS__/ueditor/ueditor.all.min.js"></script>
    <script src="__PLUGINS__/ueditor/lang/zh-cn/zh-cn.js"></script>

    <script>
      layui.config({
        base: '/public/plugins/layuiadmin/' //静态资源所在路径
      }).extend({
        index: 'lib/index' //主入口模块
      }).use(['index', 'table', 'form', 'upload'], function () {
        var table = layui.table
          , form = layui.form
          , upload = layui.upload
          , admin = layui.admin;


        function setGoods() {
          var self = this;
          self.param = {}
          self.data = {}

          //多图片上传
          upload.render({
            elem: '#test-upload-more'
            , url: 'upload'
            , field: 'image'
            , multiple: true
            , before: function (obj) {
              //预读本地文件示例，不支持ie8
            }
            , done: function (res) {
              //上传完毕
              $('#test-upload-more-list').append('<img src="' + res['file']['saveFiles'] + '" alt="' + res['file']['saveFiles'] + '" ' +
                'class="layui-upload-img">')
            }
          });

          //普通图片上传
          var uploadInst = upload.render({
            elem: '#test-upload-normal'
            , url: 'upload'
            , field: 'image'
            , before: function (obj) { //obj参数包含的信息，跟 choose回调完全一致，可参见上文。
              layer.load('loading'); //上传loading
            }
            , done: function (res) {
              //如果上传失败
              layer.closeAll('loading'); //关闭loading
              if (res.code > 0) {
                return layer.msg('上传失败');
              }
              $('#brand_img').attr('src', res.file.saveFiles); //图片链接（base64）
              //上传成功
            }

            , error: function () {
              //演示失败状态，并实现重传
              var demoText = $('#test-upload-demoText');
              demoText.html('<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-mini demo-reload">重试</a>');
              demoText.find('.demo-reload').on('click', function () {
                uploadInst.upload();
              });
            }
          });
        }

        setGoods.prototype = {
          constructor: setGoods,
        }
        new setGoods();
      });
      //实例化编辑器
      //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
      UE.getEditor('goods_desction', {initialFrameWidth: 1500, initialFrameHeight: 500});
    </script>
</body>

